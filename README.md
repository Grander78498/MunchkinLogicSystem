# MunchkinLogic

Логический язык программирования с полнофункциональным лексером в стиле Prolog.

## Особенности

Лексер поддерживает синтаксис в стиле Prolog:

### Основные конструкции
- **Факты**: `parent(john, mary).`
- **Правила**: `parent(X, Y) :- father(X, Y).`
- **Запросы**: `?- likes(mary, X).`

### Операторы Prolog
- **Импликация**: `:-` (определяет правило)
- **Конъюнкция**: `,` (AND)
- **Дизъюнкция**: `;` (OR)
- **Отрицание**: `\+`
- **Cut**: `!`
- **Анонимная переменная**: `_`

### Унификация и равенство
- **Унификация**: `=` (присваивание)
- **Неравенство**: `\=`
- **Точное равенство**: `=:=`
- **Точное неравенство**: `=\=`

### Арифметические операторы
- `+`, `-`, `*`, `/`, `**` (степень)
- `mod` (остаток от деления)
- `//` (целочисленное деление)
- Оператор `is`: `X is Y + Z.`

### Операции сравнения
- `<`, `=<`, `>`, `>=`, `=:=`, `=\=`

### Структуры данных
- **Атомы**: начинаются со строчной буквы (`john`, `parent`, `likes`)
- **Переменные**: начинаются с заглавной буквы (`X`, `Y`, `List`)
- **Списки**: `[a, b, c]`, `[H|T]`, `[X, Y|Z]`
- **Числа**: целые и с плавающей точкой
- **Строки**: в одинарных кавычках `'Hello World'` с escape-последовательностями

### Условные выражения
- If-then-else: `(Condition -> Then ; Else)`

### Комментарии
- Однострочные: начинаются с `%`
- Многострочные: `/* ... */`

### Дополнительные возможности
- **Пробельные символы**: автоматически пропускаются
- **Отслеживание позиции**: каждая лексема содержит информацию о номере строки и столбца

## Примеры использования

```python
from lexer import Lexer

# Факты
lexer = Lexer("parent(john, mary).")
tokens = lexer.tokenize()

# Правила с унификацией
lexer = Lexer("parent(X, Y) :- father(X, Y).")
tokens = lexer.tokenize()

# Запросы
lexer = Lexer("?- findall(X, likes(X, pizza), List).")
tokens = lexer.tokenize()

# Конъюнкция
lexer = Lexer("likes(X, pizza), likes(X, coke).")
tokens = lexer.tokenize()

# Арифметика
lexer = Lexer("X is Y + Z * 2.")
tokens = lexer.tokenize()

# Списки
lexer = Lexer("[a, b, c].")
lexer = Lexer("[H|T].")
tokens = lexer.tokenize()

# Отрицание
lexer = Lexer("\\+ happy(X).")
tokens = lexer.tokenize()

# Условные выражения
lexer = Lexer("( X -> Y ; Z ).")
tokens = lexer.tokenize()

# Факториал
lexer = Lexer("factorial(N, F) :- N > 0, N1 is N - 1, factorial(N1, F1), F is N * F1.")
tokens = lexer.tokenize()
```

## Запуск тестов

```bash
python main.py
```

## Структура проекта

- `lexer.py` - Реализация лексера в стиле Prolog
- `main.py` - Тестовые примеры с различными конструкциями Prolog
- `parser.py` - Будущий парсер (пока пустой)
- `README.md` - Эта документация
- `pyproject.toml` - Конфигурация проекта

## Требования

- Python 3.13+

## Отличия от оригинального Prolog

Этот лексер реализует основные синтаксические конструкции Prolog для образовательных целей. 
Полная совместимость с конкретной реализацией Prolog (SWI-Prolog, GNU Prolog, etc.) не гарантируется.

## Лицензия

MIT
