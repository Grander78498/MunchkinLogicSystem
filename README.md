# SHLDN - Логический Интерпретатор

SHLDN (Simple Higher-Level Declarative Notation) - это логический интерпретатор, реализующий исчисление высказываний и исчисление предикатов с поддержкой унификации переменных и арифметических операций.

## Описание

SHLDN предназначен для решения задач логического программирования в предметной области "Манчкин". Он поддерживает:
- Исчисление высказываний
- Исчисление предикатов с унификацией переменных
- Арифметические операции и сравнения
- Метод резолюций для доказательства теорем

## Установка

Для работы с SHLDN требуется Python 3.13+ и менеджер пакетов `uv`.

1. Клонируйте репозиторий:
   ```bash
   git clone <repository-url>
   cd MunchkinLogicSystem
   ```

2. Установите зависимости:
   ```bash
   uv sync
   ```

## Использование

### Запуск REPL

Для запуска интерактивного режима выполните:
```bash
uv run python repl.py
```

### Основные команды REPL

- `help` - вывод справки
- `load <файл>` - загрузка содержимого файла
- `get axioms` - вывод всех аксиом
- `remove <номер>` - удаление аксиомы по номеру
- `quit` или `exit` - выход из программы

### Синтаксис языка

#### Высказывания
```
игрок_1_уровень_10
монстр_дракон
```

#### Переменные
Переменные начинаются с большой буквы:
```
X, Y, Z
```

#### Аксиомы (импликации)
```
игрок_1_уровень_10 -> игрок_1_победитель
игрок_2_уровень_5 & игрок_2_сила_10 & монстр_сила_14 -> игрок_победил
```

#### Теоремы (запросы)
```
? игрок_1_победитель
? уровень(игрок(Х), 2)
```

#### Предикаты
```
уровень(игрок(1), 2)
сила(игрок(1), 5)
уровень(монстр(гоблин), 5)
```

#### Логические операции
- Конъюнкция: `&` или `*`
- Дизъюнкция: `|` или `+`
- Отрицание: `!`
- Импликация: `->`
- Эквиваленция: `<->`

#### Арифметические операции
- Сложение: `+`
- Вычитание: `-`
- Умножение: `*`
- Деление: `/`

#### Операции сравнения
- Больше: `>`
- Меньше: `<`
- Больше или равно: `>=`
- Меньше или равно: `<=`
- Равно: `==`
- Не равно: `!=`

### Примеры использования

#### Пример 1: Простая аксиома
```
игрок_1_уровень_10 -> игрок_1_победитель
игрок_1_уровень_10
? игрок_1_победитель
```

#### Пример 2: Аксиома с предикатами и арифметикой
```
уровень(игрок(X), Y) & сила(игрок(X), Z) -> боевая_сила(игрок(X), Y + Z)
уровень(игрок(1), 2)
сила(игрок(1), 5)
? боевая_сила(игрок(1), 7)
```

#### Пример 3: Аксиома с сравнением
```
боевая_сила(игрок(X), Sx) & уровень(монстр(M), Sm) & (Sx > Sm) -> победа(игрок(X), монстр(M))
боевая_сила(игрок(1), 7)
уровень(монстр(гоблин), 5)
? победа(игрок(1), монстр(гоблин))
```

## Архитектура

Проект состоит из следующих компонентов:

1. **Лексер** (`lexer.py`) - токенизация входного текста
2. **Парсер** (`parser.py`) - построение AST
3. **AST трансформер** (`ast_transformer.py`) - преобразование AST в модели данных
4. **Модели данных** (`models.py`) - представление логических выражений
5. **Унификация** (`unification.py`) - алгоритм унификации Робинсона
6. **Логический движок** (`engine.py`) - метод резолюций и преобразования в КНФ
7. **Команды** (`commands.py`) - обработка команд пользователя
8. **REPL** (`repl.py`) - интерактивный интерфейс

## Тестирование

Для запуска тестов выполните:
```bash
uv run pytest tests/
```

## Лицензия

MIT License